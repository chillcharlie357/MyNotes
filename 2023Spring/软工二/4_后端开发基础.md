---
title: 4_后端开发基础
tags: 
categories: 
date:  2023-03-03 15:11
modified:  星期二 7日 三月 2023 10:14:26
sticky:
thumbnail:
cover: 
excerpt: false
mathjax: true
comment: true
---

# HTTP协议
计网讲过0.O

## 客户端服务器模式C/S
- 无状态
- client request / server reponse
	- 服务端不会主动发消息

## Tomcat和Servlet
### TomCat
java写的Web服务器
- 和HTTP服务器⼀样，绑定IP地址并监听TCP端⼝
- 管理Servlet程序的⽣命周期
- ! 将URL映射到指定的Servlet进⾏处理
- ! 与Servlet程序合作处理由Web浏览器发来的HTTP请求：根据HTTP请求⽣成
- HttpServletRequest对象并传递给Servlet进⾏处理，将Servlet中的HttpServletResponse对象⽣成的内容返回给浏览器

### Servlet
java写的，交互式浏览和修改数据，生成动态WEb内容

是很多其它框架的核心

#### 生命周期


每个请求都有一个单一线程

service()方法执行实际任务，由容器调用
	doGet
	doPost
	...

### 部署
servlet-mapping把url和不同任务对应


## REST和JSON

### REST风格
REST风格的提出 Roy Fielding博士论文 **67强烈推荐**

Representational State Transfer

- 取代了复杂笨重的SOAP，成为Web API的标准
- 满足各种要求：可重复、分层、无状态、可靠、统一接口、可扩展、可重用

1. Web API与前后端分离
	- URL返回的不是HTML而是机器直接解析的数据
	- 前端分不同平台（PC,IOS...），后端可以统一

#### 规范


### JSON
- 本质上是正则表达式
- JSON的parser是有限状态机



# Spring Boot入门

简化了spring的依赖、构建
本质还是servlet


## hello world
程序入口

启动项目
	IDE运行main
	`mvn spring-boot:run`
	`mvn package`打包成jar包，直接`java -jar`


# 数据设计
数据持久化

关系数据库[[02_数据模型]]

SQL语句查询


### JDBC原理
java Database Connectivity JDBC Java数据库连接



# DAO
DAO 数据存取对象（Data Access Object），把数据库操作封装起来，直接对逻辑对象操作
![msedge_531_239.png](https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/imgae/2023/03/07/03e962f7c41a845316af9a6f741d448e_msedge_531_239.png)

## 优势
- 提供数据访问接口
	- 隔离数据和业务，操作都对逻辑对象
- 隔离不同数据库的实现
	- 提高可扩展性

## 组成部分
- DAO接⼝：
	- 把对数据库的所有操作定义成抽象⽅法，可以提供多种实现
	- 只提供业务需要的接口，而不是直接提供全部接口
- DAO实现类：
	- 针对不同数据库给出DAO接⼝定义⽅法的具体实现
- 实体类：
	- ⽤于存放与传输对象数据
- 数据库连接和关闭⼯具类：
	- 避免了数据库连接和关闭代码的重复使⽤，⽅便修改


## Mysql
最流行的关系数据库

POM文件依赖：

```pom
<!--mysql-->
 <dependency>
 <groupId>mysql</groupId>
 <artifactId>mysql-connector-java</artifactId>
 <scope>runtime</scope>
 </dependency>
```


spring boot application.yml文件
```yml
spring:
 datasource:
 url: jdbc:mysql://localhost:3306/mysql_test
 username: root
 password: root
 driver: com.mysql.jdbc.Drive
```

# Mybatis
- ORM Object Relation Mapping
	- Object->Relation
	- Relation->Object

- Hibernate 
	- 不要写sql，完整ORM
- MyBatis 
	- 要写sql，Relation->Object自主性更好
	- 自动生产调用数据库的代码，执行你写的sql语句

# Spring Boot + Mybatis项目案例分析
