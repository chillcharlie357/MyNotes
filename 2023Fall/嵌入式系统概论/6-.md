# 嵌入式软件软件架构

1. 业务逻辑
2. 实时依赖硬件的逻辑

移植很重要，因为嵌入式平台很多。

![image.png](https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/image%2F2023%2F10%2F23%2Fc20c1ac5f4bc3df54353a1b6adfe3999_20231023102928.png)
抽象层将所需操作的高级请求转换为操作所需的低级命令

# 嵌入式软件架构模式

## 非结构化单体架构

1. 很容易构建，但很难维持规模和移植
2. 和应用层的应用程序紧密耦合

![image.png](https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/image%2F2023%2F10%2F23%2Ff428f40da33f3eb734968e0818e925b1_20231023102633.png)

## 分层架构

1. 如今嵌入式应用程序最常用的架构
2. 将应用程序的逻辑划分为若干独立层，仅通过定义良好的抽象层进行交互
3. 试图通过将应用程序分解为独立的层来改善非结构化单体架构的高耦合性

![image.png](https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/image%2F2023%2F10%2F23%2F52234cc5d6dfafe6a83cc418b26533ab_20231023102955.png)

## 事件驱动架构

- 对于实时嵌入式应用程序和能耗相关的应用程序非常有意义
- 常用**中断来响应事件**
- 事件驱动的体系结构通常使用消息队列、信号量和事件标志来表示系统 中发生了事件

- 优点
	- 具有相对的可扩展性
	- 软件模块通常具有高内聚性
	- 具有低耦合
- 缺点
	- 无论要做任何事情，都需要额外开销和复杂性

 ![image.png](https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/image%2F2023%2F10%2F23%2Fb421fdab5c5b283656a20d00f56656ef_20231023103638.png)

## 微服务架构

- 微服务架构将应用程序构建为业务领域开发的小型自治服务的集合
- 本质：低耦合，使得微服务易于维护和可测试，开发人员可以快速扩展和一直微服务
- 围绕系统业务逻辑组织的。业务逻辑是视图行为的业务规则和用例

![image.png](https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/image%2F2023%2F10%2F23%2F06bad78c3130dc45e0498e72861162e3_20231023103943.png)

