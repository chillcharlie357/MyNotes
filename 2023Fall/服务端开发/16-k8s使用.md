---
aliases: 
tags: 
categories:
sticky:
thumbnail:
cover: 
excerpt: false
mathjax: true
comment: true
title: 16-k8sä½¿ç”¨
date:  Thursday,December 28th 2023
modified:  Thursday,December 28th 2023
---

# k8sç¯å¢ƒ

## å®‰è£…

[GitHub - AliyunContainerService/k8s-for-docker-desktop: ä¸ºDocker Desktop for Mac/Windowså¼€å¯Kuberneteså’ŒIstioã€‚](https://github.com/AliyunContainerService/k8s-for-docker-desktop)

æ ¹æ®è¯´æ˜å®‰è£…

## éƒ¨ç½²dashboard

`kubectl apply -f kubernetes-dashboard.yaml`

kubectlï¼š å®¢æˆ·ç«¯ç¨‹åºä¸è¿œç¨‹k8s serveräº¤äº’  
kubectl proxyï¼š æŠŠè¿œç¨‹k8s serverç«¯å£ä»£ç†åˆ°æœ¬åœ°ç«¯å£

## éƒ¨ç½²ingress controller

`kubectl apply -f ingress-nginx-controller.yaml`

## éªŒè¯ Kubernetes é›†ç¾¤çŠ¶æ€

 - kubectl cluster-info
 - kubectl get nodes
 - kubectl get nodes --show-labels
 - ç»™èŠ‚ç‚¹æ‰“æ ‡ç­¾ï¼škubectl label node docker-desktop disktype=ssd
	 - æŸ¥è¯¢æ»¡è¶³æ ‡ç­¾çš„èŠ‚ç‚¹ï¼škubectl get nodes   -l disktype=ssd
	 - åˆ é™¤æ ‡ç­¾ï¼škubectl label node docker-desktop disktype


# k8såŸºæœ¬æ¶æ„

![image.png](https://chillcharlie-img.oss-cn-hangzhou.aliyuncs.com/image%2F2023%2F12%2F28%2F18-55-11-2838e48395432e6ee0c51d6f1cbf08d5-20231228185510-36573e.png)


Node: å®‰è£…dockerçš„å®¿ä¸»æœºï¼Œæä¾›å®¹å™¨ã€‚
Masterï¼šç®¡ç†é›†ç¾¤çš„æœºå™¨ï¼Œå®‰è£…k8sçš„æ ¸å¿ƒæ¨¡å—ã€‚ä¹Ÿå¯ä»¥ä¸Nodeéƒ¨ç½²åœ¨åŒä¸€å°å®¿ä¸»æœºä¸Šã€‚

kubeletï¼šæ›¿Masterä¸dockeräº¤äº’ã€‚
flannelï¼šå®¹å™¨ç½‘ç»œçš„ç¬¬ä¸‰æ–¹å®ç°ï¼Œç»™å®¹å™¨æä¾›è™šæ‹Ÿç½‘ç»œã€‚
etcdï¼šç±»ä¼¼reddisçš„ç¼“å­˜ç³»ç»Ÿã€‚

k8sç›®çš„ï¼šé€šè¿‡å¤šä¸ªNodeèŠ‚ç‚¹ï¼Œè·å¾—æ›´å¤šå®¹å™¨ã€‚


# k8sèµ„æºğŸ‘

- namespaces
	- ç±»ä¼¼javaä¸­çš„package
	- å¯ä»¥æŠŠä¸åŒèµ„æºæ”¾åœ¨ä¸åŒnamespaceé‡Œï¼Œä¸åŒnamespaceé‡Œé¢å¯ä»¥æœ‰åŒåèµ„æº
- Pods
	- ä»¥åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨ï¼Œå†…éƒ¨å®¹å™¨çš„é€»è¾‘å®¿ä¸»æœº
- Deployment
	- è´Ÿè´£Podçš„è‡ªåŠ¨åˆ›å»º
- Service
	- ç±»ä¼¼å¾®æœåŠ¡çš„â€œæœåŠ¡â€æ¦‚å¿µï¼Œä¸ºå¤–ç•Œæä¾›ä¸€å®šçš„ä¸šåŠ¡èƒ½åŠ›
	- éƒ¨ç½²åœ¨Podä¸­ï¼Œä¸€ä¸ªæœåŠ¡å¯ä»¥æœ‰å¤šä¸ªPod
- Ingress
	- ç½‘å…³ï¼ŒæŠŠä¸åŒåŸŸå/urlè·¯ç”±åˆ°å¯¹åº”çš„æœåŠ¡
	- k8så¯¹å¤–ç»Ÿä¸€æä¾›Ingressçš„å…¥å£
- configmap
	- é›†ç¾¤ä¸­æä¾›é…ç½®ä¿¡æ¯çš„åœ°æ–¹
	- key-valueç»“æ„
- secrets
	- æ¶‰åŠå®‰å…¨çš„éšç§æ•°æ®ï¼Œæœ‰ä¸åŒç±»åˆ«
- service